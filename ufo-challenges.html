<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>UFO Invaders - Challenges</title>

    <link href="https://fonts.googleapis.com/css?family=Baloo+Thambi+2&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
        integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <!-- <link rel="stylesheet" href="./node_modules/bootstrap/dist/css/bootstrap.min.css" /> -->
    <link rel="stylesheet" href="./css/theme01.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>

</head>

<body data-spy="scroll" data-target="#page-nav" data-offset="70">

    <div class="container-fluid  sticky-top">

        <div class="row bg-primary" style="height:5px"></div>
        <div class="row bg-success" style="height:2px"></div>
        <div class="row bg-primary" style="height:2px"></div>
        <div class="row bg-secondary" style="height:2px"></div>
        <div class="row bg-primary" style="height:2px"></div>
        <div class="row bg-success" style="height:2px"></div>

        <div class="row bg-primary" style="height: 80px">
            <div class="col-2 text-secondary pt-4">
            </div>
            <div class="col-8 text-secondary  text-center pt-2 pb-2">
                <h2 class="txt-shadow">UFO Invaders - 2020 Edition</h2>
                <h5 class="txt-shadow">The Challenges</h5>
            </div>
            <div class="col-2 text-white pt-4">
            </div>
        </div>
        <div class="row bg-success" style="height:2px"></div>
        <div class="row bg-primary" style="height:2px"></div>
        <div class="row bg-secondary" style="height:2px"></div>
        <div class="row bg-primary" style="height:2px"></div>
        <div class="row bg-success" style="height:2px"></div>

        <div class="row bg-primary">
            <nav id="page-nav" class="navbar navbar-expand-sm bg-primary navbar-dark">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="#challenge00">
                            <h5 class="txt-shadow">00 - Startup</h6>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#challenge01">
                            <h5 class="txt-shadow">01- The UFO</h6>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#challenge02">
                            <h5 class="txt-shadow">02- Enhancements</h6>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#challenge03">
                            <h5 class="txt-shadow">03- Defense System</h6>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#references">
                            <h5 class="txt-shadow">Reference</h6>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
        <div class="row bg-success" style="height:2px"></div>
        <div class="row bg-primary" style="height:2px"></div>
        <div class="row bg-secondary" style="height:2px"></div>
        <div class="row bg-primary" style="height:2px"></div>
        <div class="row bg-success" style="height:2px"></div>
    </div>

    <div class="container-fluid">

        <!-- CHALLENGE 00 -->

        <div id="challenge00" class="row text-view">
            <div class="caption">Challenge 00 - Startup</div>
        </div>

        <h4 class="goal">Get the code installed and running....</h4>

        <div class="row">

            <div class="col-12 directionblock">
                Git Bash: <a href="https://git-scm.com/downloads" target="_blank">Install</a>

                Visual Studio Code: <a href="https://code.visualstudio.com/download" target="_blank">Install</a>

                Git Hub:
                The Code:&nbsp;<a href="https://github.com/timkreuz/UFO-Invaders/tree/cc2000-starter"
                    target="_blank">Start with this Branch: cc2000-starter</a>
                The Challenges:&nbsp;<a href="https://github.com/timkreuz/UFO-Invaders-Challenges" target="_blank">Just
                    get the master branch.</a>
                Clone these branches and install in C:\Dev\Git. Here's the commands...

                From C:\Dev\Git
                <div class="codeblock">
                    git clone https://github.com/timkreuz/UFO-Invaders.git
                    git clone https://github.com/timkreuz/UFO-Invaders-Challenges.git
                </div>

                From C:\Dev\Git\UFO-Invaders
                <div class="codeblock">
                    git checkout cc2000-starter
                    git branch cc2001-ufo-sparky
                </div>

                From C:\Dev\Git\UFO-Invaders-Challenges
                <div class="codeblock">
                    git checkout edition-2020
                </div>

                Visual Studio Code: <a href="https://code.visualstudio.com/download" target="_blank">Install</a></br>
                Create/Open a Workspace and add UFO-Invaders to the Workspace

                Node.js: <a href="https://nodejs.org/en/download/" target="_blank">Install</a></br>
                Open bash/command window in ufo-invaders folder and type http-server

                http-server: <a href="https://www.npmjs.com/package/http-server" target="_blank">Install</a></br>
                Open bash/command window in ufo-invaders folder and type http-server

            </div>
        </div>

        <!-- CHALLENGE 01 -->

        <div id="challenge01" class="row text-view">
            <div class="caption">Challenge 01 - The UFO</div>
        </div>
        <br />
        <h4 class="goal">Where's the UFO?</h4>

        <div class="row">
            <div class="col-12 directionblock">
                <strong>UFO Invaders!</strong>

                In the past it was only crazies on the fringe who believed in aliens and their occasional abductions
                of humans and animals.

                But lately the aliens have become more bold and their abductions of cats and chickens is
                believed by just about everybody. But now fresh evidence from the fake media shows that
                they plan to colonize and take over the whole planet.

                It's our job to develop a defense system and strategies to protect our planet. We'll
                need a shield, some missiles and a new technology - exploding chickens.

                <strong>Since this game is called UFO Invaders, lets start by creating the evil UFO.</strong>

                Here's the overall plan:

                1 - We'll create a ufo object, just like we already have the sky and earth.

                2 - We'll give it some speed values. And create an update function that we can use to make it fly.

                3 - Since it just flies off the screen, we'll give it some boundaries telling it how far it's allowed
                to go up, down, left and right. We'll then use those to make it change directions and stay on the
                screen.

                4 - Because ufos don't fly around in nice predictable patterns, we'll randomize its movement.

            </div>
        </div>


        <div class="row bg-success" style="height:2px"></div>
        <br />
        <h4 class="goal">Goal #1: Draw a UFO in the Sky.</h4>

        <div class="row">
            <div class="col-10 directionblock">
                This first UFO is going to be a simple rectangle. That's really boring but for now we just want to
                get the mechanics working. Later we can replace that with an image or something more complex.

                Step 1 - Create a new file called ufo.js in the objects folder.

                Step 2 - Create an object called ufo. Just look at earth.js or sky.js as examples.
                Place it up in the upper left somewhere.

                Step 3 - On main.js import getUFO. Again the same as we do for the earth and sky.

                Step 4 - Create a drawUFO function. Just like... You got the idea.

                Step 5 - Call the drawUFO function.

                Step 6 - Display your page and make sure you can see the UFO. It should be sitting up in the sky
                do nothing except looking around for cats and chickens.

            </div>
        </div>

        <div class="row bg-success" style="height:2px"></div>
        <br />
        <h4 class="goal">Goal #2: Make the UFO Move.</h4>

        <div class="row">
            <div class="col-12 directionblock">
                Now things are going to get exciting. At least for about 3-4 seconds.

                Step 1 - Update our ufo and give it two new attributes:
                speedX will tell us how fast it moves from left to right. Start that out at 2.
                speedY will tell us how fast is moves up and down. Start that out at 2 also.

                Step 2 - Add a new function to ufo.js to update the ufo.

                Step 3 - In that new function add speed to the ufo's x position.

                Step 4 - Import that function on main.js just like we imported getUFO.

                Step 5 - Call that new function from our draw function. Update first. Then draw.

                <div class="codeblock">
                    export function updateUFO(ufo) {
                    ufo.x = ufo.x + ufo.speedX;
                    }

                    import {getUFO, updateUFO} from './objects/ufo.js';

                    updateUFO(ufo);
                </div>

                Display your page. Watch the UFO fly away!!!

            </div>
            <div class="col-1"></div>
        </div>


        <div class="row bg-success" style="height:2px"></div>
        <br />
        <h4 class="goal">Goal #3: Get the UFO to stay on the screen.</h4>

        <div class="row">
            <div class="col-12 directionblock">
                Bad UFO! Stay!

                Step 1 - Update our ufo and give it four new attributes:
                maxLeft, maxRight, maxUp and maxDown. Give those some values that make sense.

                <div class="codeblock">
                    export function getUFO(canvas) {

                    maxLeft: ?, maxRight: canvas.?,
                    maxUp: ?, maxDown: canvas.height /?,
                </div>

                Step 2 - In the udpate function, if the UFO hits the right sides of the screen, have it reverse back the
                other way.

                <div class="codeblock">
                    if (ufo.x + ufo.width > ufo.maxRight) {
                    ufo.speedX = ufo.speedX * -1;
                    }
                </div>

                Refresh your game and make sure that works. Code a little. Test a little.

                Step 3 - Now do the same for the left and top and bottom.
            </div>
        </div>


        <div class="row bg-success" style="height:2px"></div>
        <br />
        <h4 class="goal">Goal #4: Still too boring. Aliens aren't that predictable.</h4>

        <div class="row">
            <div class="col-12 directionblock">
                This part will be a bit more challenging. But let's make the UFO fly around randomly
                and change directions and speed every 2-5 seconds. Because anyone who knows anything
                about UFOs knows they don't fly around in nice predictable patterns.

                2-5 seconds in javascript is 2000-5000 milliseconds.

                Step 1 - Update your UFO and give it a new attribute called timer. This means do
                whatever it is you're doing for 3 seconds. Then we'll mix things up.

                <div class="codeblock">
                    timer: Date.now() + 3000
                </div>

                Step 2 - Create a new function call randomize.
                It will take ufo as input. And for now it won't do anything.

                <div class="codeblock">
                    function randomize(ufo) {
                    }
                </div>

                Step 3 - Now in our update function we'll call randomize every time the timer is done.

                <div class="codeblock">
                    if (Date.now() > ufo.timer) {
                    randomize(ufo);
                    }
                </div>

                Step 4 - Now let's randomize the ufo.
                All we need to do is change the speeds and set a new timer.

                For the speeds generate a random number 0-90. Then subtracted 45 to get a
                random number between -45 and 45. Then I divided by 10 to get random speeds
                from -4.5 to 4.5. That might be too fast, but for now it's good.

                For the timer we get random numbers between 0 and 1000. Then add 2000. So
                that's 2000-3000 milliseconds. Or 2-3 seconds.

                <div class="codeblock">
                    function randomize(ufo) {
                    ufo.speedX = (Math.floor(Math.random()* 90) - 45)/10;
                    ufo.speedY = (Math.floor(Math.random()* 90) - 45)/10;
                    ufo.timer = Date.now() + Math.floor(Math.random() * 1000) + 2000;
                    }
                </div>

                Nice! It's still a boring rectangle, but that's the way real UFOs fly around.

            </div>
        </div>


        <div id="challenge02" class="row text-view">
            <div class="caption">Challenge 02 - Enhancements</div>
        </div>
        <br />
        <h4 class="goal">Code That Works A Lot Better</h4>

        <div class="row">
            <div class="col-12 directionblock">
                <strong>Boring Code Improvements!</strong>

                Starting Branch: cc2001-ufo
                Solution Branch: cc2001-enhance

                The first problem is we're going to be drawing a lot more objects - like abduction
                beams, and defense systems and missiles and shields and alien invaders. All the fun stuff.
                And that's going be a lot of ctx begin, draw, fill, etc... Over and over and over and eventually
                that's going to get old so let's find a better way not to make the fun stuff more fun.

                The second problem is all we can draw right now are boring rectangles. What if
                we want to draw an ellipse, or a more complex object or display a cool image.
                So we'll fix that too.

                And third, we need to think about the overall strategy to this game before it gets
                too messy and difficult to work with.

                And there's probably a couple of other little things to fix.

                Hopefull this won't be too painful. A few baby steps and some copy paste we can get this done.

            </div>
        </div>
        <div class="row bg-success" style="height:2px"></div>
        <br><br>

        <h4 class="goal">Goal #1: Improve the UFO Change Direction Code.</h4>

        <div class="row">
            <div class="col-10 directionblock">
                Whether you hit the left of right side of the wall, you always change directions by
                multiplying the speed by -1. Let's add an 'or' statement to that code using '||'.

                <div class="codeblock">
                    if ((ufo.x + ufo.width > ufo.maxRight) || (ufo.x < ufo.maxLeft)) { ufo.speedX=ufo.speedX * -1; }
                        </div>

                        Now do the same for the up and down direction changes. Make sure everything is still working.
                </div>

            </div>

            <br>
            <h4 class="goal">Goal #2: Consolidate those draw functions in main.js.</h4>

            <div class="row">
                <div class="col-12 directionblock">
                    Create a drawObject function.

                    <div class="codeblock">
                        function drawObject(object) {
                        //guess what goes here!
                        }
                    </div>

                    Now figure out what you can get rid of.
                    And there's something that needs to change.

                    Make sure your code still works.
                </div>
            </div>

            <br>
            <h4 class="goal">Goal #3: Overall Strategy.</h4>

            <div class="row">
                <div class="col-12 directionblock">
                    This thing is going to get complex as we start adding more and more. And complex
                    problems don't need complex solutions. They need simple ones.

                    We'll have an object called game. It will contain all the objects we're trying to
                    manage. Right now earth, sky, ufo, stats. Later, there will be defense systems, aliens,
                    missiles, abduction beams, cats, exploding chickens... And it will contain the stats
                    and something to tell us the game is over and few other details we need.

                    Then we'll have a function to update the game.

                    And another function to draw the game.

                    And later we'll have a function to get events. But that's later.

                    So for now we'll just do this.
                    Is the game over? No. Then Update and Draw.
                    Is the game over? No. Then Update and Draw.
                    Is the game over? No. Then update and Draw.
                    Is the game over? No. Then update and Draw.

                    You get the idea. And we'll just do that over and over hundreds and thousands of times until
                    either we destroy the aliens or they destroy us. At which point the game will be over and we'll
                    can stop updating and drawing.

                    And that's a really simple strategy.

                    So let's get this all set up.

                    Step 1 - Create a folder. Call it control. (just like we have for objects)

                    Step 2 - Create 3 files there: game.js, update.js, draw.js

                    Step 3 - Inside game.js write some code to set up the game. This will be a
                    good place to use your copy/paste skills.

                    <div class="codeblock">
                        import {getEarth} from '../objects/earth.js';
                        import {getSky} from '../objects/sky.js';
                        import {getUFO} from '../objects/ufo.js';
                        import {getStats} from '../objects/stats.js';

                        export function getGame() {
                        var stats = getStats();
                        var canvas = document.getElementById("myCanvas");
                        var ctx = canvas.getContext("2d");
                        var infoCenter = document.getElementById("infoCenter");
                        var infoCtx = infoCenter.getContext("2d");
                        var earth = getEarth(canvas);
                        var sky = getSky(canvas);
                        var ufo = getUFO(canvas);

                        var game = {gameOver: false,
                        infoCenter: infoCenter, infoCtx: infoCtx,
                        canvas: canvas, ctx: ctx,
                        stats: stats,
                        earth: earth, sky: sky, ufo: ufo};
                        return game;
                        }
                    </div>

                    And if you notice. That's a bunch of stuff we already have in main.js.

                    But we can leave it all there in main.js for now.

                    Step 4 - Inside update.js let's do our update.

                    <div class="codeblock">
                        import {updateUFO} from '../objects/ufo.js';

                        export function updateGame(game) {
                        //missing code. hint: it updates something.
                        }
                    </div>

                    Step 5 - Inside draw.js let's do our drawing. Another good time to use copy/paste.
                    There's going to be plenty of chances to do more coding here later.

                    <div class="codeblock">
                        export function drawGame(game) {
                        drawObjects(game);
                        }

                        function drawObjects(game) {
                        game.ctx.clearRect(0, 0, game.canvas.width, game.canvas.height);
                        drawObject(game.ctx, game.earth);
                        drawObject(game.ctx, game.sky);
                        drawObject(game.ctx, game.ufo);
                        }

                        function drawObject(ctx, object) {
                        ctx.beginPath();
                        ctx.rect(object.x, object.y, object.width, object.height);
                        ctx.fillStyle = object.color;
                        ctx.fill();
                        ctx.closePath();
                        }
                    </div>

                    Step 6 - Now let's clean up main.js. Be ready to be amazed.

                    You can delete all the stuff we moved out of here.

                    And because we're doing way more than drawing, rename draw to runGame.

                    And then you should end of with code that looks like this....

                    <div class="codeblock">
                        import {getGame} from './controllers/game.js';
                        import {drawGame} from './controllers/draw.js';
                        import {updateGame} from './controllers/update.js';

                        //add one line of code to get the game

                        function runGame() {
                        if (?????) {
                        //exactly one one line of code here.
                        } else {
                        //Exactly two lines of code are missing here.
                        }
                        }

                        //Exactly one line of code here.
                    </div>
                    Check that out. There's hardly anthing left in main.js.

                    In fact, looking at that code, it doesn't have any idea what kind of game this thing is.

                    One person could go off and create a game about ufos and aliens. And another person could go
                    make a game about rainbows and unicorns and fighting jellyfish. And both could run their game
                    using this same code.
                </div>
            </div>
        </div>




        <div id="challenge03" class="row text-view">
            <div class="caption">Challenge 03 - Defense System</div>
        </div>
        <br />
        <h4 class="goal">A Mobile Defense System to Protect the Earth from the Alien Swarm</h4>

        <div class="row">
            <div class="col-12 directionblock">
                <strong>Let's Roll!</strong>

                Starting Branch: cc2001-enhance
                Solution Branch: cc2001-defend

                Build a defender that glides back and forth along the surface of the earth.

                And then give it a weapon to fire defense missiles to expel or destroy the enemy invaders.

            </div>
        </div>
        <div class="row bg-success" style="height:2px"></div>
        <br><br>

        <h4 class="goal">Goal #1: Build a rectangular defense system.</h4>

        <div class="row">
            <div class="col-10 directionblock">
                Nothing new here. Another dumb rectangle just like the UFOs.
                A new object call defender.js with a getDefender function.
            </div>
        </div>

        <br>
        <h4 class="goal">Goal #2: Add Events</h4>

        <div class="row">
            <div class="col-12 directionblock">
                First we need to add some listeners.

                <div class="codeblock">
                    document.addEventListener("keydown", keyDownHandler, false);
                    document.addEventListener("keyup", keyUpHandler, false);
                </div>

                Then game will need to know about them eventually.
                Guess where these go. And then add this to the game.

                <div class="codeblock">
                    var events = {leftPressed: false, rightPressed: false, spacePressed:false};
                </div>

                Create and events.js and register them in the game when they happen.

                <div class="codeblock">

                    export function keyDown(game, e) {

                    if (e.keyCode == 37) {
                    game.events.leftPressed = true;
                    }
                    else if (e.keyCode == 39) {
                    game.events.rightPressed = true;
                    }
                    else if (e.keyCode == 32) {
                    game.events.spacePressed = true;
                    }
                    }

                    export function keyUp(game, e) {

                    if (e.keyCode == 37) {
                    game.events.leftPressed = false;
                    }
                    else if (e.keyCode == 39) {
                    game.events.rightPressed = false;
                    }.
                    if (e.keyCode == 32) {
                    game.events.spacePressed = false;
                    }

                    }
                </div>

                Now import those events on main.js.

                <div class="codeblock">
                    import {keyDown, keyUp} from './controllers/events.js';
                </div>

                Now hook the listeners and functions together.
                This will go in main.js.  

                <div class="codeblock">

                    function keyDownHandler(e) {
                    keyDown(game, e);
                    }

                    function keyUpHandler(e) {
                    keyUp(game, e);
                    }
                </div>

            </div>

        </div>
        <br>
        <h4 class="goal">Goal #3: The Defender Moves.</h4>

        <div class="row">
            <div class="col-12 directionblock">
                
                Here's how it will work....

            </div>

        </div>

        

        <div id="references" class="row text-view">
            <div class="caption">References</div>
        </div>

        <br /><br /><br />
        
        <h4 class="goal">Weekly Setup</h4>

        <div class="row">
           
            <div class="codeblock">

                C:/Dev/Git/UFO-Invaders-Challenges
                Open GitBash Window
                git pull

                C:/DEv/Git/UFO-Invaders/ufo-invaders
                Open GitBash Window
                http-server

                C:/DEv/Git/UFO-Invaders
                Open GitBash Window

                Open Visual Studio Code

                Open Browser (Should have these Bookmarked)
                - Open the Challenges
                - Start the UFO Invadates Game
            
            </div>

        </div>

        <br />
        
        <h4 class="goal">GIT Command Reference</h4>

        <div class="row">
           
            <div class="codeblock">

                See all the changes in your current branch.
                git status

                Commit your changes.  Now you can push them up to the main repository.
                git commit -am "all the fun updates I made!"

                Push your changes up to the main repository.
                git push

                Pull the latest changes to your branch from the main repository.
                git pull

                Create a new branch
                git branch cc02-my-name

                Switch to a different branch
                git checkout cc02-my-name

                Help your machine know about all the latest from the main repository
                git fetch

            </div>

        </div>

        <br /><br /><br />
        
        <h4 class="goal">Code Examples</h4>

        <div class="row">
           
            <div class="codeblock">

             
                function rand(lower, upper) {
                    return Math.floor(Math.random() * (upper - lower)) + lower;
                }

                function getRandomColor() {
                    // var h = rand(1, 360);
                    // var s = rand(0, 100);
                    // var l = rand(0, 100);
                    var h = rand(0, 105);
                    var s = 100;
                    var l = 50;
                    return 'hsl(' + h + ',' + s + '%,' + l + '%)';
                }



            </div>

        </div>
        <br /><br /><br />
        <h4 class="goal">Outline for Tonight</h4>

        <div class="row">
           
            <div class="codeblock">

            Work on Our UFOs
            Code Improvements
            - New Way to Loop
            - Build Part - New Method
            What would make it easier.  To do less math.
            
            Extra Challenges
            
            Challenge 1
            Fix Problems with Any UFO Movement

            Challenge 2
            Change loops to the new way of doing things.

            Challenge 3
            Try a New Method to Build a Part that Uses Percents

                Starts 0% from the left side, 45% down, goes 100% across, 10 percent down.
                Is this better? 
                buildPart(ufo, 0, 45, 100, 10)

                Is there another way you like better?

            Challenge 4
            Draw other shapes:
            
                https://www.w3schools.com/graphics/canvas_intro.asp
                Try adding a circle to object to your ufo.

                
            Challenge 5
            Don't let UFOs overlap.  
            If UFOs get into eachother's space, have them change direction, just like if the hit the boundaries of the screen.
            Maybe we should create a utilities.js and put it in controllers. 
                Here we could put things like getRandomColor.
                Or a function call doObjectsOverlap.  It takes two objects and returns true or false.

    


            
            </div>

        </div>


        <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
        <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
        <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />

</body>

</html>