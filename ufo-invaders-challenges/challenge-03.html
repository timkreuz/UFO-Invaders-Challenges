<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Code Camp 2019</title>
    <link href="challenges.css" rel="stylesheet" type="text/css">
</head>

<body>
    </br>
    <hr>
    <hr>
    <h1>UFO Invaders: Complex UFOs.  Multiple UFOs.</h1>
    <hr>
    <hr>

    </br>

    <hr>
    <p>
        <strong>
            Introduction:
        </strong>
    </p>
    <hr>

    <div class="directions">
        <strong>
           We're still a step away from abductions.  First we'll make the UFO complex. Not just a 
           simple boring rectangle.  And, the really exciting part is we'll have more than one UFO
           flying around.  
        </strong>

        Starting Branch: cc02-enhance
        Solution Branch: cc03-complex

        Here's the plan. Right now we only draw rectangles.  And we already gave our ufo
        a type of "rectangle". So we'll have a new type called "complex".  And it will
        be made up of parts.  And each of those parts will have a type. And for starters,
        our ufo will be made up of two rectangles.  It will be more impressive than you think.

        Then we'll need a way of having more than one ufo.  And we'll simply use an array.
        Game will create more than one.  Update will loop over them and update them.  And
        draw will loop over them and draw them.  It will be easier than you think.
    </div>

    <hr>
    <p>
        <strong>
            Goal #1: Fix the Draw Logic.
        </strong>
    </p>
    <hr>

    <div class="directions">
        Since it can only draw rectangles, it needs to be fixed.

        Step 1 - Create a drawRectangle function. 
        Copy drawObject.  And name it drawRectangle.

        Step 2 - In drawObject, delete all the code.

        Step 3 - Add an if statement.  If the object is a "rectangle", call drawRectangle.

        Test it out.  It should still work.

        Step 4 - Add another if statement.  If the object is "complex" call drawComplex.  It's a new
        function and needs the ctx and the parts.

        Step 5 - Add a for loop in drawComplex to loop over the parts.

        Step 6 - For each part, call a function that will draw it.
        Hint: That function already exists and starts with the workd 'draw'.

        Test it out.  It should still work.  Expespecially since we don't have any complex objects yet.
        But we will. And if you notice, we really don't draw complex objects.  We still just draw 
        rectangles. But can add other shapes if we wanted to.  Or images. Later.
    </div>

    <hr>
    <p>
        <strong>
            Goal #2: Build a Complex UFO.
        </strong>
    </p>
    <hr>

    <div class="directions">
        You can do this however you like. Feel free.  But this first complex ufo is going to
        be really simple.  Two rectangles stacked on top of eachother and the one on top will
        be shorter and each will be different colors.

        Step 1 - Change the ufo to have type of "complex" and give it a new property called
        parts: [].  It will be an empty array for now.  Also make the ufo it's own variable
        and then return it.

        Step 2 - In between creating the ufo and returning it, call a function to get
        the parts.  ufo.parts = getParts(ufo);

        Step 3 - Create two rectangle objects called top and bottom.  They still need to
        fit inside the dimensions of the ufo.  Put them into an array and return it.
        
        Test it out.  If it works, the ufo might not be doing something we want it to do.

        Step 4 - Figure out what's wrong and fix it.  

    </div>

    <hr>
    <p>
        <strong>
            Goal #3 - Multiple UFOs
        </strong>
    </p>
    <hr>

    <div class="directions">
        This is going to be really cool when we get it working.

        This will be a good chance to work on our loop skills.  And arrays.

        Step 1 - In our game object instead of ufo, we'll have ufos.  And then use a function 
        to create several of them. Start with 3.  
        var ufos = getUFOs(canvas);

        Step 2 - In our draw function, draw the UFOs.  Instead of drawObject, call a 
        function that draws a collection of objects.

        Step 3 - In our update logic, loop over all the ufos and update each one.

        Test it out. 
        If you get it working, test it with a larger number of ufos for fun. 

        Scary!
    </div>

    <hr>
    <p>
        <strong>
            Cheats.
        </strong>
    </p>
    <hr>

    <div class="directions">
        For Goal #1.
    </div>

    <div class="codeblock">
            <code>
                function drawObject(ctx, object) {
                    if (object.type == "rectangle") {
                        drawRectangle(ctx, object);
                    }
                    if (object.type == "complex") {
                        drawComplex(ctx, object.parts)
                    }
                }
    
                function drawRectangle(ctx, object) {
                    ctx.beginPath();
                    ctx.rect(object.x, object.y, object.width, object.height);
                    ctx.fillStyle = object.color;
                    ctx.fill();
                    ctx.closePath();
                }
    
                function drawComplex(ctx, parts) {
                    for (var i = 0; i < parts.lenght; i++) {
                        drawObject(ctx, parts[i]);
                    }
                }
            </code>
        </div>

        <div class="directions">
            For Goal #2.
        </div>

        <div class="codeblock">
                <code>
                    function getParts(ufo) {
                        
                        var top = {
                            type: "rectangle",
                            x: ufo.x + (ufo.width / 4), y: ufo.y, width: ufo.width / 2, height: ufo.height / 2,
                            color: '#ffff33'
                        };
                    
                        var bottom = {
                            type: "rectangle",
                            x: ufo.x, y: ufo.y + (ufo.height / 2), width: ufo.width, height: ufo.height / 2,
                            color: '#00ff00'
                        };
                    
                        var parts = [top, bottom];
                        return parts;
                    }
                </code>
        </div>
    <hr>
</body>

</html>