<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Code Camp 2019</title>
    <link href="challenges.css" rel="stylesheet" type="text/css">
</head>

<body>
    </br>
    <hr>
    <hr>
    <h1>UFO Invaders: Enhancements</h1>
    <hr>
    <hr>

    </br>

    <hr>
    <p>
        <strong>
            Introduction:
        </strong>
    </p>
    <hr>

    <div class="directions">
        Now that we have the evil UFO flying around, it might be nice to have it start
        abducting some of those cats and chickens. But first, there's some small problems
        to fix.

        The first problem is we're going to be drawing a lot more objects - like abduction
        beams, and defense systems and missiles and shields and alien invaders. And that's
        going be a lot of ctx begin, draw, fill, etc... There's got to be a better way.

        The second problem is all we can draw right now are boring rectangles. What if
        we want to draw an ellipse, or a more complex object or display a cool image.
        So we'll fix that too.

        And since we set things up to draw more than just rectangles, lets make a slightly
        better newer improved UFO.

        Those are the main things. And along the way, we'll learn how to do arrays, loops,
        and ifs with elses and ifs with ors and other fun programming things.
    </div>

    <hr>
    <p>
        <strong>
            Goal #1: Improve the UFO Change Direction Code.
        </strong>
    </p>
    <hr>

    <div class="directions">
        Whether you hit the left of right side of the wall, you always change directions by
        multiplying the speed by -1. Let's add an 'or' statement to that code using '||'.
    </div>
    <div class="codeblock">
        <code>
            if ((ufo.x + ufo.width > ufo.maxRight) || (ufo.x < ufo.maxLeft)) {
                ufo.speedX = ufo.speedX * -1;
            }
        </code>
    </div>
    <div class="directions">
        Now do the same for the up and down direction changes.

        Make sure everything is still working.
    </div>

    <hr>
    <p>
        <strong>
            Goal #2 - Consolidate those draw functions in game.js
        </strong>
    </p>
    <hr>

    <div class="directions">
        Create a drawObject function.
    </div>
    <div class="codeblock">
        <code>
            function drawObject(object) {
                //guess what goes here!  
            }
        </code>
    </div>
    <div class="directions">
        Now figure out what you can get rid of.
        And there's something that needs to change.

        Make sure your code still works.
    </div>


    <hr>
    <p>
        <strong>
            Goal #3 - Let's use a loop to remove all those draw objects.
        </strong>
    </p>
    <hr>

    <div class="directions">
        Things are a lot better now.  But what if we have a 50 objects to draw? 
        Are we really going to have 50 drawObject statemments.
        Let's fix that.

        Step 1 - Let's create a collection of drawables.
        Do this near the top after we create these things.
    </div>

    <div class="codeblock">
        <code>
            var drawables = [earth, sky, ufo];
        </code>
    </div>

    <div class="directions">
        Step 2 - Create a new function called drawAll.
        It can draw all the drawables. It doesn't do anything yet.
    </div>

    <div class="codeblock">
        <code>
            function drawAll(drawables) {
    
            }
        </code>
    </div>

    <div class="directions">
        Step 3 - Inside of drawAll we can write a loop..
        There's different ways to do this, but we'll learn this first.
    </div>

    <div class="codeblock">
        <code>
            for (var i = 0; i < drawables.length; i++) {
                drawObject(drawables[i]);
            }
        </code>
    </div>

    <div class="directions">
        Step 4 - Remove the drawObjects in the draw function.
        Instead drawAll!
    </div>

    <hr>
    <p>
        <strong>
            Goal #4: A New Improved UFO. Getting Closer.
        </strong>
    </p>
    <hr>

    <div class="directions">
       Step 1 - Move drawAll and drawObjects to draw.js.
       
        There's actually a draw.js in the util folder already. So just copy the code there.
        The drawAll function will need an export.
        game.js will need to import it.
        And drawObject should really become drawRectangle. Because that's what it does.
        And we will also need to send the ctx into drawAll.

        It will be organized like this.
    </div>

    <div class="codeblock">
        <code>
            function drawRectangle(ctx, object) {
                //drawObject's code is here.
            }
            
            function drawComplex(ctx, object) {
                //nothing for now.
            }
            
            export function drawAll(ctx, drawables) {
                //don't forget to drawRectange here.
            }
        </code>
    </div>

    <div class="directions">
       Step 2 - In drawAll check for the object's type.
       
            If it's a rectangle - call drawRectangle.
            If it's complex - call drawComplex.

            Test it out and make sure it still works.  We don't have any complex objects yet
            so this shouldn't be any trouble.        

    </div>

    <hr>
    <p>
        <strong>
            Goal #5: The Complex UFO Arrives.
        </strong>
    </p>
    <hr>

    <div class="directions">

       Step 1 - Make the UFO Complex.

       Step 2 - Give the UFO an array of parts.  We don't have any yet.  But we'll
       create a place to put them.

       Step 3 - We need to do more that just return the ufo map.  
       Assign it to a variable.  And then return it.

       Step 4 - Create a function called getParts.  It doesn't need to do anything yet.

       Step 5 - Now after you create the ufo, and before you  return it, assign the result of
       getParts() to ufo.parts. 

       After all that, you might have something like this.

    </div>

    <div class="codeblock">
        <code>
            export function getUFO(canvas) {

                var ufo = {
                    type: "complex",
                    parts: [],
                    ...
                    //all the other code is still here
                };
                ufo.parts = getParts(ufo);
                return ufo;
            }
            
            function getParts(ufo) {
            }
        </code>
    </div>

    <div class="directions">
       Step 6 - For now the ufo will be just a top and bottom. Or really you can do it
       however you want.  It's up to you.  But nothing fancy here yet. 
    </div>

    <div class="codeblock">
        <code>
            
            function getParts() {

                var top = {
                    type: "rectangle",
                    x: ?, y:?, width: ?, height: ?,
                    color: ?
                };
                
                var bottom = {
                    type: "rectangle",
                    x: ?, y: ?, width: ?, height: ?,
                    color: ?
                };

                var parts = [top, bottom];

                return parts;
            }
        </code>
    </div>

    <div class="directions">
       Step 7 - Here's one way to do it. 
       You'll need to pass ufo to the function to make this work.
    </div>
    
    <div class="codeblock">
        <code>
                var top = {
                    type: "rectangle",
                    x: ufo.x + (ufo.width /4), y: ufo.y, width: ufo.width/2, height: ufo.height /2,
                    color: '#ffff33'
                };
                
                var bottom = {
                    type: "rectangle",
                    x: ufo.x, y: ufo.y + (ufo.height /2), width: ufo.width, height: ufo.height /2,
                    color: '#00ff00'
                };
        </code>
    </div>

    <div class="directions">
       Step 8 - Now all we need to do is update draw.js to draw complex object. 
       DrawAll should look something like this.
    </div>
    
    <div class="codeblock">
        <code>
            function drawAll(ctx, drawables) {
                for (var i = 0; i < drawables.length; i++) {
                    var object = drawables[i];
                    if (object.type == "rectangle") {
                        drawRectangle(ctx, object);
                    }
                    if (object.type == "complex") {
                        drawComplex(ctx, object.parts);
                    }
                }
            }
        </code>
    </div>

    <div class="directions">
       And drawComplex could look something like this.
    </div>
    
    <div class="codeblock">
        <code>
            function drawComplex(ctx, drawables) {
                for (var i = 0; i < drawables.length; i++) {
                    var object = drawables[i];
                    if (object.type == "rectangle") {
                        drawRectangle(ctx, object);
                    }
                    if (object.type == "complex") {
                        drawComplex(ctx, object.parts);
                    }
                }
            }
        </code>
    </div>

    <div class="directions">
       Step 9 - But that looks a lot like drawAll.  So we could do this.
    </div>
    
    <div class="codeblock">
        <code>
            function drawComplex(ctx, drawables) {
                drawAll(ctx, drawables);
            }
        </code>
    </div>

    <div class="directions">
       Step 10 - You could make it even simpler, if you want to.
       Do we even need drawComplex at all?   
       Anyway, test it out and hope it all works.
    </div>

    <hr>
    <p>
        <strong>
            Goal #6: Fun challenge
        </strong>
    </p>
    <hr>

    <div class="directions">
       What would it take to have a second ufo flying around?
       Or three?  Or ten?
    </div>

    <hr>
</body>

</html>